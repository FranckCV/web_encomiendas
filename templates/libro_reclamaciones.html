{% extends 'MAESTRA_GENERAL.html' %}
{% block estilos %}
  <link rel="stylesheet" href="/static/css/libro_reclamaciones.css" />
{% endblock %}
{% block contenido %}
  <div class="contenedor">
    <h1 class="titulo">LIBRO DE RECLAMACIONES</h1>

    <div class="form-container">
      <form id="reclamacionesForm">
        <div class="section">
          <h2 class="section-title">Información Personal</h2>

          <div class="filas-1">
            <div class="form-group largo">
              <label for="nombresCompletos">Nombres Completos / Razón Social <span class="required">*</span></label>
              <input type="text" id="nombresCompletos" name="nombresCompletos" required />
            </div>
            <div class="form-group">
              <label for="tipoDocumento">Tipo de Documento <span class="required">*</span></label>
              <select id="tipoDocumento" name="tipoDocumento" required>
                <option value="">Seleccione...</option>
                <option value="dni">DNI</option>
                <option value="ce">Carné de Extranjería</option>
                <option value="pasaporte">Pasaporte</option>
                <option value="ruc">RUC</option>
              </select>
            </div>

            <div class="form-group">
              <label for="numeroDocumento">Número de Documento <span class="required">*</span></label>
              <input type="text" id="numeroDocumento" name="numeroDocumento" required />
            </div>
          </div>
          <div class="filas">
            <div class="form-group">
              <label for="departamento">Departamento <span class="required">*</span></label>
              <select id="departamento" name="departamento" required>
                <option value="">Seleccione...</option>
                <option value="lima">Lima</option>
                <option value="arequipa">Arequipa</option>
                <option value="cusco">Cusco</option>
                <option value="trujillo">La Libertad</option>
                <option value="piura">Piura</option>
              </select>
            </div>

            <div class="form-group">
              <label for="provincia">Provincia <span class="required">*</span></label>
              <select id="provincia" name="provincia" required>
                <option value="">Seleccione...</option>
                <option value="lima">Lima</option>
                <option value="callao">Callao</option>
              </select>
            </div>

            <div class="form-group">
              <label for="distrito">Distrito <span class="required">*</span></label>
              <select id="distrito" name="distrito" required>
                <option value="">Seleccione...</option>
                <option value="miraflores">Miraflores</option>
                <option value="san-isidro">San Isidro</option>
                <option value="surco">Santiago de Surco</option>
              </select>
            </div>
          </div>
          <div class="form-group full-width">
            <label for="direccion">Dirección <span class="required">*</span></label>
            <input type="text" id="direccion" name="direccion" required />
          </div>

          <div class="filas-5">
            <div class="form-group" id="ref">
              <label for="referencia">Referencia</label>
              <input type="text" id="referencia" name="referencia" />
            </div>

            <div class="form-group" id="mail">
              <label for="correo">Correo Electrónico <span class="required">*</span></label>
              <input type="email" id="correo" name="correo" required />
            </div>

            <div class="form-group" >
              <label for="telefono">Teléfono <span class="required">*</span></label>
              <input type="tel" id="telefono" name="telefono" required />
            </div>
          </div>
        </div>

        <!-- INFORMACIÓN DE LA INCIDENCIA -->
        <div class="section">
          <h2 class="section-title">Información de la Incidencia</h2>

          <div class="filas">
            <div class="form-group">
              <label for="numeroTracking">Número de Tracking</label>
              <input type="text" id="numeroTracking" name="numeroTracking" />
            </div>

            <div class="form-group">
              <label for="tienda">Tienda</label>
              <select id="tienda" name="tienda">
                <option value="">Seleccione...</option>
                <option value="tienda-central">Tienda Central</option>
                <option value="tienda-norte">Tienda Norte</option>
                <option value="tienda-sur">Tienda Sur</option>
                <option value="tienda-este">Tienda Este</option>
                <option value="online">Tienda Online</option>
              </select>
            </div>

            <div class="form-group">
              <label for="fechaRecojo">Fecha de Recojo</label>
              <input type="date" id="fechaRecojo" name="fechaRecojo" />
            </div>
          </div>

          <div class="filas">
            <div class="form-group">
              <label for="tipoIncidencia">Tipo de Incidencia <span class="required">*</span></label>
              <select id="tipoIncidencia" name="tipoIncidencia" required>
                <option value="">Seleccione...</option>
                <option value="reclamo">Reclamo</option>
                <option value="queja">Queja</option>
                <option value="sugerencia">Sugerencia</option>
                <option value="felicitacion">Felicitación</option>
              </select>
            </div>

            <div class="form-group">
              <label for="motivoIncidencia">Motivo de Incidencia <span class="required">*</span></label>
              <select id="motivoIncidencia" name="motivoIncidencia" required>
                <option value="">Seleccione...</option>
                <option value="producto-defectuoso">Producto Defectuoso</option>
                <option value="mal-servicio">Mal Servicio</option>
                <option value="demora-entrega">Demora en Entrega</option>
                <option value="facturacion">Problema de Facturación</option>
                <option value="atencion-cliente">Atención al Cliente</option>
                <option value="otro">Otro</option>
              </select>
            </div>

            <div class="form-group">
              <label for="causaIncidencia">Causa de Incidencia</label>
              <select id="causaIncidencia" name="causaIncidencia">
                <option value="">Seleccione...</option>
                <option value="error-personal">Error del Personal</option>
                <option value="falla-sistema">Falla del Sistema</option>
                <option value="problema-proveedor">Problema con Proveedor</option>
                <option value="falta-stock">Falta de Stock</option>
                <option value="otro">Otro</option>
              </select>
            </div>
          </div>

          <div class="filas">
            <div class="form-group">
              <label for="bienContratado">Bien Contratado</label>
              <select id="bienContratado" name="bienContratado">
                <option value="">Seleccione...</option>
                <option value="producto">Producto</option>
                <option value="servicio">Servicio</option>
                <option value="ambos">Producto y Servicio</option>
              </select>
            </div>

            <div class="form-group">
              <label for="montoReclamado">Monto Reclamado (S/.)</label>
              <input type="number" id="montoReclamado" name="montoReclamado" step="0.01" min="0" />
            </div>
          </div>
          <div class="form-grid">
            <div class="form-group full-width">
              <label for="descripcionIncidencia">Descripción de la Incidencia <span class="required">*</span></label>
              <textarea id="descripcionIncidencia" name="descripcionIncidencia" required placeholder="Describa detalladamente su incidencia..."></textarea>
            </div>

            <div class="form-group full-width">
              <label for="detallesIncidencia">Detalles de Incidencia</label>
              <textarea id="detallesIncidencia" name="detallesIncidencia" placeholder="Proporcione detalles adicionales si los considera necesarios..."></textarea>
            </div>

            <div class="form-group full-width">
              <label for="pedidoSugerencia">Pedido/Sugerencia</label>
              <textarea id="pedidoSugerencia" name="pedidoSugerencia" placeholder="¿Qué solicita o sugiere para resolver esta incidencia?"></textarea>
            </div>

            <div class="form-group full-width">
              <label for="imagenIncidencia">Subir Imagen (Opcional)</label>
              <div class="file-upload">
                <input type="file" id="imagenIncidencia" name="imagenIncidencia" accept="image/*" />
                <div class="file-upload-button">📷 Seleccionar imagen de evidencia</div>
              </div>
            </div>
          </div>
        </div>

        <div class="submit-section">
          <button type="submit" class="btn-agregar">Enviar Reclamación</button>
        </div>
      </form>
    </div>
  </div>
{% endblock %}

{% block script %}
  <script>
    document.getElementById('reclamacionesForm').addEventListener('submit', function (e) {
      e.preventDefault()
      alert('Formulario enviado correctamente. Recibirá una respuesta en un plazo máximo de 30 días calendario.')
    })
    
    document.getElementById('imagenIncidencia').addEventListener('change', function (e) {
      const fileName = e.target.files[0]?.name
      const button = document.querySelector('.file-upload-button')
      if (fileName) {
        button.textContent = `📷 ${fileName}`
      } else {
        button.textContent = '📷 Seleccionar imagen de evidencia'
      }
    })
  </script>
{% endblock %}
