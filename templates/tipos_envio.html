{% extends 'MAESTRA_GENERAL.html' %}

{% block titulo %}
  Tipos de Envío
{% endblock %}

{% block estilos %}
  <link rel="stylesheet" href="/static/css/tipos_envio.css">
{% endblock %}

{% block contenido %}
  <div class="container">
    <h1>¿Qué deseas realizar hoy?</h1>

    <div class="options">
      <div class="option" data-destino="/registro-envio">
        <div class="option-icon">
          <img src="/static/img/caja-negra.png" alt="Paquete" class="icono" />
        </div>
        <div class="option-title">
          <h3>ENVIAR UN PAQUETE</h3>
        </div>
        <div class="option-text">
          <p>Envío de cajas o paquetes con un peso máximo de <strong>25 kg</strong> y medidas mínimas de: <strong>14cm x 10cm x 10cm</strong></p>
        </div>
      </div>

      <div class="option" data-destino="/registro-envio">
        <div class="option-icon">
          <img src="/static/img/documento.png" alt="Sobre" class="icono" />
        </div>
        <div class="option-title">
          <h3>ENVIAR UN SOBRE</h3>
        </div>
        <div class="option-text">
          <p>Envío de documentos con un peso máximo de <strong>500 gr</strong></p>
        </div>
      </div>

      <div class="option" data-destino="/envio_masivo">
        <div class="option-icon">
          <img src="/static/img/enviomasivo.png" alt="Masivos" class="icono" />
        </div>
        <div class="option-title">
          <h3>ENVÍOS MASIVOS</h3>
        </div>
        <div class="option-text">
          <p>Registro de 20 o más envíos a través de la carga de un archivo Excel</p>
        </div>
      </div>

      <div class="option" data-destino="/cajas">
        <div class="option-icon">
          <img src="/static/img/carrito.png" alt="Empaque" class="icono" />
        </div>
        <div class="option-title">
          <h3>COMPRAR EMPAQUES</h3>
        </div>
        <div class="option-text">
          <p>Compra nuestros empaques, recibe o recoge en la tienda de tu preferencia.</p>
        </div>
      </div>
    </div>

    <div class="checkbox-container">
      <label>
        <input type="checkbox" id="termsCheckbox">
        He leído y acepto los <a href="#">términos de uso</a> y <a href="#">políticas de privacidad</a>
      </label>
    </div>

    <button id="continuarBtn" disabled>CONTINUAR</button>
  </div>
{% endblock %}

{% block scripts %}
  <script>
    let selectedOption = null;
    const termsCheckbox = document.getElementById('termsCheckbox');
    const continuarBtn = document.getElementById('continuarBtn');

    // Maneja el clic en las opciones
    document.querySelectorAll('.option').forEach(option => {
      option.addEventListener('click', function () {
        // Remueve la clase 'selected' de todas las opciones
        document.querySelectorAll('.option').forEach(opt => opt.classList.remove('selected'));

        // Añade la clase 'selected' a la opción clickeada
        this.classList.add('selected');

        // Almacena la ruta de destino
        selectedOption = this.getAttribute('data-destino');

        // Habilita el botón si los términos están aceptados
        if (termsCheckbox.checked) {
          continuarBtn.disabled = false;
        }
      });
    });

    // Maneja el estado del checkbox
    termsCheckbox.addEventListener('change', function () {
      if (selectedOption && this.checked) {
        continuarBtn.disabled = false;
      } else {
        continuarBtn.disabled = true;
      }
    });

    // Maneja el clic en el botón continuar
    continuarBtn.addEventListener('click', function () {
      if (selectedOption) {
        window.location.href = selectedOption;
      }
    });
  </script>
{% endblock %}
