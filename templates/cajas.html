<!-- HTML Optimizado -->
{% extends "MAESTRA_GENERAL.html" %}

{% block estilos %}
<link rel="stylesheet" href="/static/css/cajas.css">
<!-- Incluir los estilos optimizados -->
<style>
    /* Estilos inline para aplicar inmediatamente los cambios críticos */
    .producto-detalle {
        display: flex;
        flex-wrap: wrap;
        background-color: #fff;
        border-radius: 10px;
        overflow: hidden;
        box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        margin-bottom: 20px;
        gap: 0;
    }

    .producto-imagen {
        flex: 1;
        min-width: 250px;
        padding: 15px;
        display: flex;
        flex-direction: column;
        align-items: center;
    }

    .producto-info {
        flex: 1;
        min-width: 250px;
        padding: 15px;
    }

    .producto-imagen img {
        max-width: 100%;
        max-height: 300px;
        object-fit: contain;
    }

    @media (max-width: 768px) {
        .producto-detalle {
            flex-direction: column;
        }

        .producto-imagen,
        .producto-info {
            width: 100%;
        }
    }
</style>
{% endblock %}

{% block titulo %}
Producto - Caja Shalom
{% endblock %}

{% block contenido %}
<!-- Contenedor principal con ancho máximo reducido -->
<div class="producto-container" style="max-width: 1000px; padding: 10px;">


    <!-- Sección del producto optimizada -->
    <div class="producto-detalle">
        <div class="producto-imagen">
            <img src="/static/img/caja-shalom.jpg" alt="Caja Shalom">
            <div class="size-options">
                <button class="size-btn xxs active">XXS</button>
                <button class="size-btn xs">XS</button>
                <button class="size-btn s">S</button>
                <button class="size-btn m">M</button>
                <button class="size-btn l">L</button>
            </div>
        </div>

        <div class="producto-info">
            <h1 class="producto-titulo" style="font-size: 1.8rem;">Caja Shalom</h1>
            <p class="producto-dimensiones">15 x 10 x 10 cm</p>

            <div class="precio-seccion">
                <div class="precio-principal">
                    <span class="moneda" style="font-size: 1.6rem;">S/</span>
                    <span class="precio" style="font-size: 2rem;">1.50</span>
                    <div class="info-icon">
                        <i class="fa-solid fa-info-circle"></i>
                        <div class="tooltip">Precio unitario. Descuentos disponibles por volumen.</div>
                    </div>
                </div>

                <div class="precios-volumen" style="gap: 10px;">
                    <div class="precio-volumen-item">
                        <span class="etiqueta-precio" style="font-size: 1.2rem;">s/. 1.20</span>
                        <span class="etiqueta-cantidad">a partir de 25 uds.</span>
                    </div>
                    <div class="precio-volumen-item">
                        <span class="etiqueta-precio" style="font-size: 1.2rem;">s/. 1.00</span>
                        <span class="etiqueta-cantidad">a partir de 50 uds.</span>
                    </div>
                </div>
            </div>

            <div class="selector-cantidad">
                <button class="qty-btn decrease">-</button>
                <input type="number" class="qty-input" value="1" min="1">
                <button class="qty-btn increase">+</button>
            </div>
            <div class="quantity-limit-container">
                <span class="quantity-limit">Máximo: 100 unidades</span>
            </div>

            <button type="button" class="btn-agregar">
                Agregar al carrito
                <i class="fa-solid fa-cart-shopping"></i>
            </button>


        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script src="/static/js/cajas.js"></script>
<!-- Script optimizado can cargarse después -->
<script>
    // Script crítico para ajuste inmediato
    window.addEventListener('load', function () {
        // Ajuste de responsividad inmediata
        function adjustContainerSize() {
            const container = document.querySelector('.producto-container');
            const windowWidth = window.innerWidth;

            if (windowWidth < 576) {
                container.style.padding = '5px';
            } else {
                container.style.padding = '10px';
            }
        }

        // Ejecutar al cargar
        adjustContainerSize();

        // También ejecutar al cambiar el tamaño de ventana
        window.addEventListener('resize', adjustContainerSize);
    });
</script>
{% endblock %}